apiVersion: kustomize.config.k8s.io/v1beta1
kind: Kustomization

# Namespace injection - forces all resources into this namespace
namespace: ip-visit-counter

resources:
  # AWS credentials secret (required by counter and sqs-consumer deployments)
  - ./secret.yaml
  # App services (Redis, Kafka in shared infra namespace)
  - ./base/app/ip-info
  - ./base/app/ip-info-grpc
  - ./base/app/counter
  - ./base/app/frontend
  - ./base/app/consumer-kafka
  - ./base/app/consumer-sqs

commonLabels:
  env: playground
  team: ip-visit